# lol-twitch-helper

트위치 채팅을 연동한 대기열 관리 및 리그오브레전드 자동 초대

## 설명

트위치 채팅을 통한 명령어로 대기열에 트위치 유저 한 명당 1개의 닉네임을 저장해두고,

롤 클라이언트에서 방을 생성하면 자동으로 대기열의 가장 앞에서 4명을 초대합니다.

큐를 잡고 챔피언을 픽한 뒤, 게임이 시작될 때 이전에 초대한 4명 중에서 게임에 실제로 입장한 유저를 대기열에서 제거합니다.

---

## 사전준비

1. [이거](https://dev.twitch.tv/docs/irc/authenticate-bot/#registering-your-bot) 따라서 애플리케이션 등록하기
2. OAuth 리디렉션 URL 메모, 등록 후 애플리케이션에서 클라이언트 ID와 클라이언트 시크릿을 메모
3. `static` 폴더의 `client_example.json`의 파일명을 `client.json`으로 변경 후 2에서 메모했던 값 저장
4. `client.json`에 있는 username에 트위치 id를 입력

## 실행

1. 롤 클라이언트 실행
2. `yarn`
3. `yarn start`

## 명령어

- `!핑`

  테스트 용도입니다

- `!대기열`

  현재 대기열에 몇 명이 있는지 확인할 수 있습니다

- `!시참 <게임 닉네임>`

  해당 닉네임을 대기열에 등록합니다
  이미 대기열에 등록된 상태라면 새로 입력한 닉네임으로 수정합니다

- `!시참취소`

  대기열에서 본인을 삭제합니다

- `!컷 <트위치 닉네임>`

  해당 채널의 주인만 사용 가능합니다

  입력한 유저를 대기열에서 삭제합니다

- `!순서변경 <기존 순서> <옮길 순서>`

  해당 채널의 주인만 사용 가능합니다

  `["GEN Chovy", "T1 Faker", "KT Bdd"]` 의 순서로 대기 중이었을 때, `"!순서변경 1 3"`을 입력 시

  `["T1 Faker", "KT Bdd", "GEN Chovy"]` 로 순서가 변경됩니다

- `!초대`

  초대가 정상적으로 진행되지 않았을 때, 대기열에 있는 유저가 수동으로 요청하여 다시 초대받을 수 있습니다
